{"version":3,"file":"TheUserPosts.2772ff43.js","sources":["../../src/components/post/PostCard.jsx","../../src/pages/modules/TheUserPosts.jsx"],"sourcesContent":["import { useLocation } from 'wouter';\r\n\r\nimport { subStringLength } from './../../extend/HelpersDom';\r\nimport { UserGetContext } from './../Dynamic';\r\n\r\nexport default function PostCard ({id, title, body}) {\r\n   const [ , setLocation ]  = useLocation();\r\n   const { currentIndex } = UserGetContext();\r\n\r\n   return <div className=\"col-sm-12 col-md-6 col-lg\">\r\n            <div className=\"h-100 card card-post\">\r\n               <header className=\"card-header row bg-white\">\r\n                  <span className=\"col text-truncate\">\r\n                     { title.toUpperCase() } \r\n                  </span>\r\n                  <span className=\"col-2\">\r\n                     <i className=\"bx bx-bookmark\"></i>\r\n                  </span>\r\n               </header>\r\n               <div className=\"card-body\">\r\n                  <article>\r\n                     { subStringLength(body, 110) }\r\n                  </article>\r\n               </div>\r\n\r\n               <div className=\"card-post-intro position-absolute h-100 top-0 start-0 end-0 d-flex justify-content-center align-items-center\">\r\n                  <div>\r\n                     <p className=\"cp-txt mb-2 text-center rounded p-1 bg-white\">ID : 000{id}</p>\r\n                     <button type=\"button\" className=\"cp-btn btn btn-sm btn-outline-dark\" \r\n                             onClick={() => setLocation(`/user/${currentIndex}/post/${id}`)}>\r\n                        Visualizar <i className=\"bx bx-cross mt-1\"></i>\r\n                     </button>\r\n                  </div>\r\n               </div>\r\n            </div>\r\n         </div>\r\n}","import { useState, useEffect } from 'react';\r\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\r\n\r\nimport PostCard from './../../components/post/PostCard';\r\nimport NotFound from './../../require/NotFound';\r\nimport { UserGetContext } from './../../components/Dynamic';\r\nimport { Loader, InputSearch, SelectorDrop } from './../../components/Reusable';\r\n\r\nimport { getPostsUser } from './../../services/UsersSrv.js';\r\nimport { focusElement } from './../../extend/HelpersDom';\r\n\r\nexport default function TheUserPosts () {\r\n\r\n   const { currentIndex } = UserGetContext();\r\n\r\n   const [ posts, setPosts ] = useState([]);\r\n   const [ postsFil, setPostsFil ] = useState([]);\r\n   const [ search, setSearch ] = useState( {inputVal: '', selectVal: 'title'} );\r\n\r\n   useEffect(() => {\r\n      (async () =>{\r\n         const postsData = await getPostsUser(currentIndex)\r\n            setPosts(postsData);\r\n            setPostsFil(postsData);\r\n            focusElement('input-default');\r\n      })();\r\n   }, [currentIndex]);\r\n\r\n   const filterValues = [ {title: 'Titulo', value:'title'},\r\n                          {title: 'Contenido', value:'body'} ];\r\n\r\n   const handleInputSearch = (inputVal) => {\r\n      setSearch((state) => ({...state, inputVal}) );\r\n      setPostsFil(() => posts.filter((elem) => (elem[search.selectVal]).toUpperCase().includes(inputVal)));\r\n   };\r\n\r\n   const handleSelectorDrop = (val) => {\r\n      setSearch((state) => ({ ...state, selectVal: val ?? 'title'}) );\r\n      handleInputSearch(search.inputVal);\r\n\r\n      focusElement('input-default');\r\n   };\r\n\r\n   return <div className=\"position-relative d-flex flex-column rounded min-h-20\">\r\n            { !posts.length ? <Loader message=\"Cargando Posts ...\"/> : \r\n            // POst content\r\n            <>\r\n               <div className=\"row\">\r\n                  <div className=\"col\">\r\n                    <InputSearch placeholder=\"Buscar Post ...\" maxlength=\"20\" callback={handleInputSearch}/>\r\n                  </div>\r\n                  <div className=\"col-5 col-md-4 col-lg-2 offset-lg-3\">\r\n                    <SelectorDrop options={filterValues} callback={handleSelectorDrop}/>\r\n                  </div>\r\n               </div>\r\n\r\n               <div className={'App-section d-flex mt-3 flex-column max-h-30 overflow-auto scroll-primary pe-2  ' + \r\n                                (!postsFil.length ? \r\n                                'justify-content-center':'justify-content-start')}>\r\n                  <TransitionGroup className=\"justify-content-center row row-cols-1 row-cols-md-2 row-cols-lg-3 g-3\">\r\n                    {\r\n                        postsFil.map(({id,title,body}) => <CSSTransition key={id} timeout={800} classNames=\"ani-fadeInUp\">\r\n                              <PostCard id={id} title={title} body={body}/>\r\n                           </CSSTransition> \r\n                          )                  \r\n                    }\r\n                  </TransitionGroup> \r\n                  <CSSTransition in={!postsFil.length} timeout={900} unmountOnExit classNames=\"ani-fadeInDelay\" exit={false}>\r\n                     <NotFound message=\"Ooops posts no encontrados.\" custom=\"text-center\"/>\r\n                  </CSSTransition>\r\n              </div>\r\n            </>\r\n\r\n            }\r\n          </div> \r\n}"],"names":["id","title","body","setLocation","useLocation","currentIndex","UserGetContext","toUpperCase","subStringLength","posts","setPosts","useState","postsFil","setPostsFil","search","setSearch","inputVal","selectVal","postsData","getPostsUser","filterValues","value","handleInputSearch","state","filter","elem","includes","handleSelectorDrop","val","length","map"],"mappings":"+wBAKkC,CAACA,KAAIC,QAAOC,QAAO,MAC5C,EAAIC,GAAiBC,IACrB,CAAEC,gBAAiBC,oBAEb,UAAU,8CACR,UAAU,6CACJ,UAAU,+CACT,UAAU,6BACXL,EAAMM,0BAEL,UAAU,wBACV,UAAU,iCAGd,UAAU,2CAEPC,EAAgBN,EAAM,kBAIzB,UAAU,kJAEN,UAAU,oEAAwDF,iBAC7D,KAAK,SAAS,UAAU,qCACxB,QAAS,IAAMG,EAAa,SAAQE,UAAqBL,oCAChD,UAAU,8CCnBR,MAE/B,CAAEK,gBAAiBC,IAEnB,CAAEG,EAAOC,GAAaC,mBAAS,IAC/B,CAAEC,EAAUC,GAAgBF,mBAAS,IACrC,CAAEG,EAAQC,GAAcJ,mBAAU,CAACK,SAAU,GAAIC,UAAW,8BAExD,IAAM,CACZ,UAAW,MACHC,GAAY,KAAMC,GAAad,KACzBa,KACGA,KACC,sBAEnB,CAACb,SAEEe,GAAe,CAAE,CAACnB,MAAO,SAAUoB,MAAM,SACxB,CAACpB,MAAO,YAAaoB,MAAM,SAE5CC,EAAqBN,GAAa,GAC1BO,UAAeA,IAAOP,gBACrB,IAAMP,EAAMe,OAAQC,GAAUA,EAAKX,EAAOG,WAAYV,cAAcmB,SAASV,MAGtFW,EAAsBC,GAAQ,GACtBL,UAAgBA,IAAON,UAAWW,UAAO,aAClCd,EAAOE,YAEZ,kCAGJ,UAAU,iEACX,AAACP,EAAMoB,+BAGD,UAAU,yBACP,UAAU,iBACZ,GAAY,YAAY,kBAAkB,UAAU,KAAK,SAAUP,eAEjE,UAAU,iDACZ,GAAa,QAASF,EAAc,SAAUO,kBAI/C,UAAW,oFACGf,EAASiB,OACc,wBAAzB,sCACb,GAAgB,UAAU,iFAErBjB,EAASkB,IAAI,CAAC,CAAC9B,KAAGC,QAAMC,YAAW,GAAuB,QAAS,IAAK,WAAW,0BAC5E,GAAS,KAAQ,QAAc,UADgBF,QAM3D,GAAc,GAAI,CAACY,EAASiB,OAAQ,QAAS,IAAK,iBAAc,WAAW,kBAAkB,KAAM,cAChG,GAAS,QAAQ,8BAA8B,OAAO,0BAxB7C,GAAO,QAAQ"}