import{r as c,T as k,C as N}from"./vendor.83e283a6.js";import{s as C,p as U,f as D,c as F}from"./HelpersDom.c86d0e35.js";import{j as e,a,F as E}from"./index.7355d09c.js";import{N as L}from"./NotFound.50d2e07b.js";import{U as O}from"./Dynamic.41f29ac7.js";import{L as B,I as G,c as H}from"./UserHook.4fcb275f.js";import{i as A}from"./UsersSrv.8c88fece.js";function q({item:l,callback:o}){const{id:i,title:d,completed:n}=l,u=()=>o(i,n);return e("div",{className:"col-sm-12 col-md-6 col-lg",children:a("div",{className:"h-100 card border-0 mt-2",children:[a("header",{className:"mt-4 card-header rounded border d-flex justify-content-between align-items-center",children:[e("div",{className:"text-initial",children:C(d,15,!0)}),e("div",{children:e("button",{type:"button",className:"btn btn-sm "+(n?"btn-outline-success":"btn-outline-danger"),onClick:u,children:e("i",{className:"align-middle bx "+(n?"bx-check":"bx-x")})})})]}),e("div",{className:"position-absolute start-0 top-0 border rounded px-1",children:U(i,4)})]})})}function W(){const{currentIndex:l}=O(),[o,i]=c.exports.useState([]),[d,n]=c.exports.useState([]),[u,v]=c.exports.useState([]),[j,I]=c.exports.useState([]),[S,p]=c.exports.useState(0),[h,f]=c.exports.useState({}),x=t=>{const[s,r]=t.reduce(([m,g],{completed:P})=>(P?m++:g++,[m,g]),[0,0]);return{completed:s,uncompleted:r}},b=t=>{const{dataArray:s,dataPags:r}=F(t,10);return v(s),I(r),p(0),s[0]};c.exports.useEffect(()=>{(async()=>{const t=await A(l);i(t),n(()=>b(t)),f(()=>x(t)),D("input-default")})()},[l]);const T=(t,s)=>{const r=o.findIndex(({id:m})=>m===t);o[r].completed=!s,f(()=>x(o))},w=t=>{p(t),n(u[t])},y=t=>{n(()=>{const s=o.filter(({title:r})=>r.toUpperCase().includes(t));return b(s)})};return e("div",{className:"position-relative d-flex flex-column rounded min-h-20",children:o.length?a(E,{children:[a("div",{className:"row",children:[e("div",{className:"col-sm-12 col-md",children:e(G,{placeholder:"Buscar Todos ...",maxlength:"20",callback:y})}),a("div",{className:"mt-3 mt-md-0 col-sm-12 col-md d-flex flex-wrap justify-content-around align-items-center",children:[a("div",{className:"fw-bolder border-bottom border-dark dark",children:["Total : ",o.length]}),a("div",{className:"fw-bolder text-success border-bottom border-success",children:[e("i",{className:"bx bx-check align-middle"})," ",h.completed]}),a("div",{className:"fw-bolder text-danger border-bottom border-danger",children:[e("i",{className:"bx bx-x align-middle"})," ",h.uncompleted]})]})]}),a("div",{className:"min-h-20 d-flex mt-1 flex-column max-h-30 overflow-auto scroll-primary pe-2 "+(d.length?"justify-content-start":"justify-content-center"),children:[e(k,{className:"justify-content-center row row-cols-1 row-cols-md-2 row-cols-lg-3 gx-3",children:d.map((t,s)=>e(N,{timeout:800,classNames:"ani-fadeInUp",children:e(q,{item:t,callback:T})},s))}),e(N,{in:!d.length,timeout:900,unmountOnExit:!0,classNames:"ani-fadeInDelay",exit:!1,children:e(L,{message:"Ooops todos no encontrados.",custom:"text-center"})})]}),e("div",{className:"mt-3",children:e(H,{currentpag:S,totalpags:j.length,callback:w})})]}):e(B,{message:"Cargando Todos ..."})})}export{W as default};
//# sourceMappingURL=TheUserTodos.fbb89064.js.map
